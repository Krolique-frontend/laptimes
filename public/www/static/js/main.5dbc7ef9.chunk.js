(this["webpackJsonplaptimes-ua"]=this["webpackJsonplaptimes-ua"]||[]).push([[0],{11:function(e,t,a){e.exports={pilot:"pilot_pilot__2zwlA",pilotCar:"pilot_pilotCar__2n3dQ",pilotTimes:"pilot_pilotTimes__1haht",session:"pilot_session__2hZzB",stdBy:"pilot_stdBy__17aO0",park:"pilot_park__3ztFU"}},2:function(e,t,a){e.exports={tableItem:"TableItem_tableItem__1aRYp",tableItem__nameNtime:"TableItem_tableItem__nameNtime__33Ghm",altAfter:"TableItem_altAfter__36blM",pilot:"TableItem_pilot__32xqB",car:"TableItem_car__FCV-9",time:"TableItem_time__78tca",more:"TableItem_more__3urqG",dropdownSpecs:"TableItem_dropdownSpecs__2qQNQ",showList:"TableItem_showList__2rHum",dropdownItem:"TableItem_dropdownItem__2-wlj",dropdown__span:"TableItem_dropdown__span__27Zue"}},20:function(e,t,a){e.exports={table:"today_table__zU0uN",demoButton:"today_demoButton__2Nd61"}},3:function(e,t,a){e.exports={sort:"Sort_sort__lQ_d-",show:"Sort_show__1wxOq",sortButton:"Sort_sortButton__2VYl7",dropdown:"Sort_dropdown__3OqwG",altAfter:"Sort_altAfter__1oiZe",list:"Sort_list__2C35w",item:"Sort_item__2xJMg",drivetrain:"Sort_drivetrain__uuhxZ",aspiration:"Sort_aspiration__3JsPl",showList:"Sort_showList__1aiSv"}},43:function(e,t,a){},6:function(e,t,a){e.exports={menu:"Menu_menu__etPbt",dropdown:"Menu_dropdown__pk6GM",altAfter:"Menu_altAfter__2Pv1O",list:"Menu_list__3rgMO",item:"Menu_item__2jcSl",showList:"Menu_showList__2PQnI",menuLink:"Menu_menuLink__1QNpH",show:"Menu_show__3ECbx",menuButton:"Menu_menuButton__18Mo1"}},62:function(e,t,a){},68:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a(1),c=a.n(n),l=a(33),i=a.n(l),r=(a(43),a(37)),o=a(12),d=a(21),j=a(4),m=a(14),b=a.n(m),p=(a(62),a(2)),u=a.n(p),h=function(e){var t=e.data;return t.make=t.make.toLowerCase(),Object(s.jsxs)("li",{className:u.a.tableItem,onClick:function(e){if("LI"===e.target.tagName){var t=e.target.children[2];e.target.classList.toggle(u.a.altAfter),t.classList.toggle(u.a.showList)}},children:[Object(s.jsxs)("div",{className:"".concat(u.a.tableItem__nameNtime," flexRow"),children:[Object(s.jsx)("span",{className:u.a.pilot,children:t.pilot}),Object(s.jsx)("span",{className:u.a.time,children:t.time})]}),Object(s.jsxs)("span",{className:u.a.car,children:[t.make," ",t.model]}),Object(s.jsxs)("div",{className:u.a.dropdownSpecs,children:[Object(s.jsxs)("p",{className:"".concat(u.a.dropdownItem," flexRow"),children:[Object(s.jsx)("span",{className:u.a.dropdown__span,children:"\u041a\u043e\u0433\u0434\u0430:"}),Object(s.jsx)("span",{className:u.a.dropdown__span,children:t.date})]}),Object(s.jsxs)("p",{className:"".concat(u.a.dropdownItem," flexRow"),children:[Object(s.jsx)("span",{className:u.a.dropdown__span,children:"\u0413\u0434\u0435:"}),Object(s.jsx)("span",{className:u.a.dropdown__span,children:t.track})]}),Object(s.jsxs)("p",{className:"".concat(u.a.dropdownItem," flexRow"),children:[Object(s.jsx)("span",{className:u.a.dropdown__span,children:"\u041f\u043e\u0447\u0435\u043c\u0443:"}),Object(s.jsx)("span",{className:u.a.dropdown__span,children:t.event})]}),Object(s.jsxs)("p",{className:"".concat(u.a.dropdownItem," flexRow"),children:[Object(s.jsx)("span",{className:u.a.dropdown__span,children:"\u041a\u043b\u0430\u0441\u0441:"}),Object(s.jsx)("span",{className:u.a.dropdown__span,children:t.class})]}),Object(s.jsxs)("p",{className:"".concat(u.a.dropdownItem," flexRow"),children:[Object(s.jsx)("span",{className:u.a.dropdown__span,children:"\u0420\u0435\u0437\u0438\u043d\u0430:"}),Object(s.jsx)("span",{className:u.a.dropdown__span,children:t.tyre})]}),Object(s.jsxs)("p",{className:"".concat(u.a.dropdownItem," flexRow"),children:[Object(s.jsx)("span",{className:u.a.dropdown__span,children:"\u041c\u043e\u0442\u043e\u0440:"}),Object(s.jsx)("span",{className:u.a.dropdown__span,children:t.engine})]}),Object(s.jsxs)("p",{className:"".concat(u.a.dropdownItem," flexRow"),children:[Object(s.jsx)("span",{className:u.a.dropdown__span,children:"\u041d\u0430\u0434\u0434\u0443\u0432:"}),Object(s.jsx)("span",{className:u.a.dropdown__span,children:t.aspiration})]}),Object(s.jsxs)("p",{className:"".concat(u.a.dropdownItem," flexRow"),children:[Object(s.jsx)("span",{className:u.a.dropdown__span,children:"\u041f\u0440\u0438\u0432\u043e\u0434:"}),Object(s.jsx)("span",{className:u.a.dropdown__span,children:t.drivetrain})]})]})]})},_=a(6),x=a.n(_),O=function(e){var t=e.dates;function a(e){var t=e.target.nextElementSibling;e.target.classList.toggle(x.a.altAfter),t.classList.toggle(x.a.showList)}return Object(s.jsxs)("nav",{children:[Object(s.jsx)("a",{className:x.a.menuButton,onClick:function(){document.querySelector(".".concat(x.a.menu)).classList.toggle(x.a.show)},children:"\u041c\u0435\u043d\u044e"}),Object(s.jsxs)("ul",{className:x.a.menu+" "+x.a.hide,children:[Object(s.jsxs)("li",{children:[Object(s.jsx)("a",{className:x.a.dropdown,onClick:a,children:"\u0422\u0440\u044d\u043a"}),Object(s.jsxs)("ul",{className:x.a.list,id:"track",children:[Object(s.jsxs)("li",{className:x.a.item,children:[Object(s.jsx)("input",{type:"radio",name:"track",id:"6km",value:"6km",checked:!0}),Object(s.jsx)("label",{htmlFor:"6km",children:"6\u0439 \u043a\u043c"})]}),Object(s.jsxs)("li",{className:x.a.item,children:[Object(s.jsx)("input",{type:"radio",name:"track",id:"nikoring",value:"nikoring"}),Object(s.jsx)("label",{htmlFor:"nikoring",children:"\u041d\u0438\u043a\u043e\u0440\u0438\u043d\u0433"})]})]})]}),Object(s.jsxs)("li",{children:[Object(s.jsx)("a",{className:x.a.dropdown,onClick:a,children:"\u041c\u0435\u0440\u043e\u043f\u0440\u0438\u044f\u0442\u0438\u0435"}),Object(s.jsxs)("ul",{className:x.a.list,id:"event",children:[Object(s.jsxs)("li",{className:x.a.item,children:[Object(s.jsx)("input",{type:"radio",name:"event",id:"allEvents",value:"all"}),Object(s.jsx)("label",{htmlFor:"allEvents",children:"\u0412\u0441\u0435"})]}),t.map((function(e){return Object(s.jsxs)("li",{className:x.a.item,children:[Object(s.jsx)("input",{type:"radio",id:e,name:"event",value:e}),Object(s.jsx)("label",{htmlFor:e,children:e})]})}))]})]}),Object(s.jsx)("li",{children:Object(s.jsx)("a",{className:x.a.menuLink,href:"/",children:"\u041d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e"})})]})]})},f=a(3),N=a.n(f),v=a(34),w=a(35),g=function(){function e(){Object(v.a)(this,e)}return Object(w.a)(e,[{key:"byTimeAsc",value:function(e){for(var t,a=0;a<e.length;a++)for(var s=a+1;s<e.length;s++)e[s].time<e[a].time&&(t=e[a],e[a]=e[s],e[s]=t);return e}},{key:"byTimeDesc",value:function(e){for(var t,a=0;a<e.length;a++)for(var s=a+1;s<e.length;s++)e[s].time>e[a].time&&(t=e[s],e[s]=e[a],e[a]=t);return e}},{key:"filterBy",value:function(e){return e.map((function(e,t,a){for(;-1!==a.indexOf(e,t+1);)a.splice(a.indexOf(e,t+1),1)})),e}}]),e}(),k=function(e){var t=e.data,a=(new g).filterBy(t.map((function(e){return e.class}))),n=(new g).filterBy(t.map((function(e){return e.drivetrain.toUpperCase()}))),c=(new g).filterBy(t.map((function(e){return e.aspiration.toUpperCase()}))),l=(new g).filterBy(t.map((function(e){return e.make.toUpperCase()}))).sort((function(e,t){return e<t?-1:1}));function i(e){var t=e.target.nextElementSibling;e.target.classList.toggle(N.a.altAfter),t.classList.toggle(N.a.showList)}function r(t){if("checkbox"===t.target.type){var a=[];document.querySelectorAll(".check_box").forEach((function(e){!0===e.checked&&a.push(e.value)})),e.dataFromSortComponent(a)}}return Object(s.jsxs)("nav",{children:[Object(s.jsx)("a",{className:N.a.sortButton,onClick:function(){document.querySelector(".".concat(N.a.sort)).classList.toggle(N.a.show)},children:"\u0424\u0438\u043b\u044c\u0442\u0440\u044b"}),Object(s.jsxs)("ul",{className:N.a.sort+" "+N.a.hide,children:[Object(s.jsxs)("li",{children:[Object(s.jsx)("a",{className:N.a.dropdown,onClick:i,children:"\u041a\u043b\u0430\u0441\u0441"}),Object(s.jsxs)("ul",{className:N.a.list,id:N.a.class,children:[Object(s.jsxs)("li",{className:N.a.item,children:[Object(s.jsx)("input",{type:"radio",name:"class",id:"allClass",value:"all"}),Object(s.jsx)("label",{htmlFor:"allClass",children:"\u0412\u0441\u0435"})]}),a.map((function(e){return Object(s.jsxs)("li",{className:N.a.item,children:[Object(s.jsx)("input",{type:"radio",className:"check_box",value:e,name:"class",onChange:r}),e]})}))]})]}),Object(s.jsxs)("li",{children:[Object(s.jsx)("a",{className:N.a.dropdown,onClick:i,children:"\u041f\u0440\u0438\u0432\u043e\u0434"}),Object(s.jsxs)("ul",{className:N.a.list,id:N.a.drivetrain,children:[Object(s.jsxs)("li",{className:N.a.item,children:[Object(s.jsx)("input",{type:"radio",name:"drivetrain",id:"allDrivetrain",value:"all"}),Object(s.jsx)("label",{htmlFor:"allDrivetrain",children:"\u0412\u0441\u0435"})]}),n.map((function(e){return Object(s.jsxs)("li",{className:N.a.item,children:[Object(s.jsx)("input",{type:"radio",className:"check_box",value:e,name:"drivetrain",onChange:r}),e]})}))]})]}),Object(s.jsxs)("li",{children:[Object(s.jsx)("a",{className:N.a.dropdown,onClick:i,children:"\u041d\u0430\u0434\u0434\u0443\u0432"}),Object(s.jsxs)("ul",{className:N.a.list,id:N.a.aspiration,children:[Object(s.jsxs)("li",{className:N.a.item,children:[Object(s.jsx)("input",{type:"radio",name:"aspiration",id:"allAspiration",value:"all"}),Object(s.jsx)("label",{htmlFor:"allAspiration",children:"\u0412\u0441\u0435"})]}),c.map((function(e){return Object(s.jsxs)("li",{className:N.a.item,children:[Object(s.jsx)("input",{type:"radio",className:"check_box",value:e,name:"aspiration",onChange:r}),e]})}))]})]}),Object(s.jsxs)("li",{children:[Object(s.jsx)("a",{className:N.a.dropdown,onClick:i,children:"\u041c\u0430\u0440\u043a\u0430 \u0430\u0432\u0442\u043e"}),Object(s.jsxs)("ul",{className:N.a.list,id:N.a.make,children:[Object(s.jsxs)("li",{className:N.a.item,children:[Object(s.jsx)("input",{type:"radio",name:"make",id:"allEvents",value:"all"}),Object(s.jsx)("label",{htmlFor:"allEvents",children:"\u0412\u0441\u0435"})]}),l.map((function(e){return Object(s.jsxs)("li",{className:N.a.item,children:[Object(s.jsx)("input",{type:"radio",className:"check_box",value:e,name:"make"}),e]})}))]})]})]})]})},y=a(20),S=a.n(y),C=a(11),I=a.n(C),L=function(e){var t=e.list;return Object(s.jsxs)("div",{className:"".concat(I.a.pilot," ").concat("session"===t.status?I.a.session:"standby"===t.status?I.a.stdBy:I.a.park),children:[Object(s.jsx)("span",{className:I.a.pilotNumber,children:t.number}),Object(s.jsxs)("span",{className:I.a.pilotName,children:[t.pilot,Object(s.jsxs)("span",{className:I.a.pilotCar,children:[t.make.toUpperCase()," ",t.model]})]}),Object(s.jsx)("span",{className:I.a.pilotStatus,children:"session"===t.status?"\u0434\u0443\u0431\u0430\u0441\u0438\u0442":"standby"===t.status?"\u0433\u043e\u0442\u043e\u0432\u0438\u0442\u0441\u044f":"\u0442\u0435\u0445\u043f\u0430\u0440\u043a"}),Object(s.jsx)("span",{className:I.a.pilotTimes,children:t.times?t.times.map((function(e){return Object(s.jsx)("span",{className:I.a.time,children:e})})):null})]})},B=new WebSocket("ws://35.195.249.169:8080/");B.addEventListener("open",(function(e){console.log("connected to server")}));var T=function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),a=t[0],c=t[1];Object(n.useEffect)((function(){b.a.get("/pilotslist").then((function(e){console.log(e.data),c(e.data.sort((function(e,t){return+e.number>+t.number?1:-1})))})).catch((function(e){return console.log(e)}))}),[]),B.addEventListener("message",(function(e){if("[object Event]"!==e.data){var t=JSON.parse(e.data);c(t)}}));return Object(s.jsxs)("div",{className:S.a.table,children:[a.map((function(e){return Object(s.jsx)(L,{list:e})})),Object(s.jsx)("button",{className:S.a.demoButton,onClick:function(){var e=JSON.stringify({demo:"start"});B.send(e)},children:"demo"})]})};var F=function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),a=t[0],c=t[1],l="/initialtable",i=Object(n.useState)("/initialtable"),m=Object(o.a)(i,2),p=m[0],u=m[1],_=Object(n.useState)("6km classic - \u0432\u0441\u0435 \u0434\u0430\u0442\u044b"),x=Object(o.a)(_,2),f=x[0],N=(x[1],Object(n.useState)([])),v=Object(o.a)(N,2),w=(v[0],v[1]);Object(n.useEffect)((function(){b.a.get(p).then((function(e){c(e.data)})).catch((function(e){return console.log(e)}))}),[p]),b.a.get("".concat("","/initialtable")).then((function(e){return e.data})).catch((function(e){return console.log(e)})),document.addEventListener("change",(function(e){switch(e.target.name){case"event":l="all"===e.target.value?"initialtable":"event?date="+e.target.value,u(""+l);break;case"make":l="all"===e.target.value?"initialtable":"car?make="+e.target.value,u(""+l)}}));var y=Object(n.useState)([]),S=Object(o.a)(y,2),C=S[0],I=S[1];Object(n.useEffect)((function(){b.a.get("".concat("","/initialtable")).then((function(e){I(e.data)})).catch((function(e){return console.log(e)}))}),[]);var L=C.map((function(e){return e.date})).filter((function(e,t,a){return a[t]!==a[t+1]}));return Object(s.jsxs)("div",{className:"App",children:[Object(s.jsx)("header",{className:"header",children:Object(s.jsxs)("a",{href:"/",children:[" ",Object(s.jsx)("h1",{children:"laptimes-ua"})," "]})}),Object(s.jsx)("main",{children:Object(s.jsxs)(d.a,{children:[Object(s.jsxs)(j.c,{children:[Object(s.jsx)(j.a,{exact:!0,path:"/",children:Object(s.jsxs)("div",{className:"table",children:[Object(s.jsxs)("div",{className:"tableHeader",children:[Object(s.jsx)("h3",{className:"table__title",children:f}),Object(s.jsxs)("span",{className:"tableHeader__timeHeader","data-sort":"",onClick:function(){var e=document.querySelector("[data-sort]").dataset,t=new g,s=Object(r.a)(a);"desc"===e.sort||""===e.sort?(e.sort="asc",c(t.byTimeAsc(s))):(e.sort="desc",c(t.byTimeDesc(s)))},children:[Object(s.jsx)("b",{children:"\u2191\u2193"}),"\u0432\u0440\u0435\u043c\u044f"]})]}),Object(s.jsx)("ul",{children:a.map((function(e){return Object(s.jsx)(h,{data:e})}))})]})}),Object(s.jsx)(j.a,{exact:!0,path:"/today",component:T})]}),Object(s.jsxs)("nav",{className:"mobileNav",children:[Object(s.jsx)(k,{dataFromSortComponent:w,data:C}),Object(s.jsx)(O,{dates:L}),Object(s.jsx)(d.b,{to:"/today",className:"todayLink",children:"\u0433\u0438\u043d\u043a\u0430"})]}),Object(s.jsxs)("nav",{className:"desktopNav",children:[Object(s.jsx)(O,{dates:L}),Object(s.jsx)(k,{data:C,dataFromSortComponent:w})]})]})})]})},A=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,69)).then((function(t){var a=t.getCLS,s=t.getFID,n=t.getFCP,c=t.getLCP,l=t.getTTFB;a(e),s(e),n(e),c(e),l(e)}))};i.a.render(Object(s.jsx)(c.a.StrictMode,{children:Object(s.jsx)(F,{})}),document.getElementById("root")),A()}},[[68,1,2]]]);
//# sourceMappingURL=main.5dbc7ef9.chunk.js.map